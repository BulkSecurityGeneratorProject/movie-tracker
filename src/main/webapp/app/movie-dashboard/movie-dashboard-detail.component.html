<div class="row justify-content-center">
    <div class="col-8">
        <div *ngIf="movie">
            <h2><b>{{movie.title}}</b></h2>
            <hr>
            <jhi-alert-error></jhi-alert-error>
            <div class="movie-details">
                <div  style="flex: 1 1 25%">
                    <img class="movie-poster" [src] = movie.poster alt="Image not found" onerror="this.onerror=null;this.src='../../content/images/no-img-available.png';">
                </div>
                <dl class="row-md jh-entity-details" style="flex: 1 1 75%; position: relative">
                    <dt><span>Plot</span></dt>
                    <dd>
                        <span>{{movie.plot}}</span>
                    </dd>
                    <dt><span>Released</span></dt>
                    <dd>
                        <span>{{movie.released}}</span>
                    </dd>
                    <dt><span>Runtime</span></dt>
                    <dd>
                        <span>{{movie.runtime}}</span>
                    </dd>
                    <dt><span>Rating</span></dt>
                    <dd>
                        <span>{{movie.rating}}</span>
                    </dd>
                    <dt><span>Production</span></dt>
                    <dd>
                        <div *ngIf="movie.productionId">
                            <a [routerLink]="['/production', movie.productionId, 'view']">{{movie.productionCode}}</a>
                        </div>
                    </dd>
                    <div style="position:absolute; bottom: 2%; right: 0px;" [hidden] = "!isAuthenticated" >
                        <button (click)='clickHistory(movie.id)' [class]="inHistory(movie.id) ? 'btn btn-light' : 'btn btn-secondary'">
                            <fa-icon [icon]="inHistory(movie.id) ? 'minus' : 'plus'"></fa-icon>
                            <span> History </span>
                        </button>
                        <button (click)='clickWishilist(movie.id)' [class]="inWishlist(movie.id) ? 'btn btn-light' : 'btn btn-secondary'" style="margin-left: 5px">
                            <fa-icon [icon]="inWishlist(movie.id) ? 'minus' : 'plus'"></fa-icon>
                            <span> Wishlist </span>
                        </button>
                    </div>
                </dl>
            </div>


            <p-carousel headerText="More suggestions" [value]="suggestions" [numVisible]="4" pageLinks="5" responsive="true">
                <ng-template let-movie pTemplate="item">
                    <div style="display:flex; flex-direction: column; height: 250px; align-items: center">
                        <img [routerLink]="['/movie-dashboard', movie.id]" title="{{movie.title}}" style="cursor:pointer; max-height: 100%; display: block; width: auto; " [src] = movie.poster alt="Image not found" onerror="this.onerror=null;this.src='../../content/images/no-img-available.png';">
                    </div>
                </ng-template>
            </p-carousel>

            <button style="margin-top:15px" type="submit"
                    (click)="previousState()"
                    class="btn btn-info">
                <fa-icon [icon]="'arrow-left'"></fa-icon>&nbsp;<span> Back</span>
            </button>
        </div>
    </div>
</div>
